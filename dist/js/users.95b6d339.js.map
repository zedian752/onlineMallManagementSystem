{"version":3,"sources":["webpack:///./src/components/user/users.vue?fdba","webpack:///./src/components/user/dialog/addUserDialog.vue?c7ec","webpack:///src/components/user/dialog/addUserDialog.vue","webpack:///./src/components/user/dialog/addUserDialog.vue?42cf","webpack:///./src/components/user/dialog/addUserDialog.vue","webpack:///./src/components/user/dialog/editUserInfoDialog.vue?a699","webpack:///src/components/user/dialog/editUserInfoDialog.vue","webpack:///./src/components/user/dialog/editUserInfoDialog.vue?7122","webpack:///./src/components/user/dialog/editUserInfoDialog.vue","webpack:///./src/components/user/dialog/assignRoleDialog.vue?bd4a","webpack:///src/components/user/dialog/assignRoleDialog.vue","webpack:///./src/components/user/dialog/assignRoleDialog.vue?a0f4","webpack:///./src/components/user/dialog/assignRoleDialog.vue","webpack:///src/components/user/users.vue","webpack:///./src/components/user/users.vue?1a55","webpack:///./src/components/user/users.vue","webpack:///./src/assets/regRule/rule.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","path","_v","model","value","queryInfo","callback","$$v","$set","expression","on","$event","getUserList","slot","isAddUserDialogVisible","userInfo","userlist","scopedSlots","_u","key","fn","scope","userStateChanged","row","showEditUserInfoDialog","id","removeUserById","showAssignRoleDialog","pagenum","pagesize","total","handleSizeChange","handleCurrentChange","isEditUserDialogVisible","editUserId","isAssignRoleDialogVisible","assignRoleInfo","staticRenderFns","resetAddUserForm","ref","addUserForm","addUserFormRules","staticClass","addUser","data","props","beforeCreate","username","password","email","mobile","methods","$refs","addFormRef","resetFields","validate","valid","res","meta","status","watch","$emit","newValue","propisAddUserDialogVisible","component","editUserForm","editUserFormRules","editUserInfo","editUserInfoForm","propisEditUserDialogVisible","userId","_s","role_name","selectRoleId","_l","item","roleName","editUserRole","rolesList","getRoleList","propisAssignRoleDialogVisible","components","addUserDialog","editUserInfoDialog","assignRoleDialog","created","newSize","newPage","$confirm","confirmButtonText","cancelButtonText","type","checkEmail","rule","regEmail","test","Error","checkMobile","regMobile","required","message","trigger","min","max","validator","goods_name","goods_price","goods_number","goods_weight","goods_cat","address_province","address_detail"],"mappings":"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","file":"js/users.95b6d339.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"用户管理\")]),_c('el-breadcrumb-item',[_vm._v(\"用户列表\")])],1),_c('el-card',{attrs:{\"shadow\":\"never\"}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":7}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"clearable\":\"\"},model:{value:(_vm.queryInfo.query),callback:function ($$v) {_vm.$set(_vm.queryInfo, \"query\", $$v)},expression:\"queryInfo.query\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){return _vm.getUserList()}},slot:\"append\"})],1)],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.isAddUserDialogVisible=true}}},[_vm._v(\"添加用户\")])],1)],1),_c('el-table',{attrs:{\"data\":_vm.userInfo.userlist,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"#\"}}),_c('el-table-column',{attrs:{\"label\":\"姓名\",\"prop\":\"username\"}}),_c('el-table-column',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}}),_c('el-table-column',{attrs:{\"label\":\"电话\",\"prop\":\"mobile\"}}),_c('el-table-column',{attrs:{\"label\":\"角色\",\"prop\":\"role_name\"}}),_c('el-table-column',{attrs:{\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"active-color\":\"rgb(31,147,255)\"},on:{\"change\":function($event){return _vm.userStateChanged(scope.row)}},model:{value:(scope.row.mg_state),callback:function ($$v) {_vm.$set(scope.row, \"mg_state\", $$v)},expression:\"scope.row.mg_state\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"修改用户角色\",\"placement\":\"bottom\",\"enterable\":false}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.showEditUserInfoDialog(scope.row.id)}}})],1),_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"删除用户角色\",\"placement\":\"bottom\",\"enterable\":false}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.removeUserById(scope.row.id)}}})],1),_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"分配用户角色\",\"placement\":\"bottom\",\"enterable\":false}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"warning\",\"icon\":\"el-icon-setting\"},on:{\"click\":function($event){return _vm.showAssignRoleDialog(scope.row)}}})],1)]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.queryInfo.pagenum,\"page-sizes\":[1, 5, 10, 20],\"page-size\":_vm.queryInfo.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.userInfo.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('addUserDialog',{attrs:{\"propisAddUserDialogVisible\":_vm.isAddUserDialogVisible},on:{\"update:propisAddUserDialogVisible\":function($event){_vm.isAddUserDialogVisible=$event},\"update:propis-add-user-dialog-visible\":function($event){_vm.isAddUserDialogVisible=$event},\"getUserList\":function($event){return _vm.getUserList()}}}),_c('editUserInfoDialog',{attrs:{\"propisEditUserDialogVisible\":_vm.isEditUserDialogVisible,\"userId\":_vm.editUserId},on:{\"update:propisEditUserDialogVisible\":function($event){_vm.isEditUserDialogVisible=$event},\"update:propis-edit-user-dialog-visible\":function($event){_vm.isEditUserDialogVisible=$event},\"getUserList\":function($event){return _vm.getUserList()}}}),_c('assignRoleDialog',{attrs:{\"propisAssignRoleDialogVisible\":_vm.isAssignRoleDialogVisible,\"userInfo\":_vm.assignRoleInfo},on:{\"update:propisAssignRoleDialogVisible\":function($event){_vm.isAssignRoleDialogVisible=$event},\"update:propis-assign-role-dialog-visible\":function($event){_vm.isAssignRoleDialogVisible=$event},\"getUserList\":function($event){return _vm.getUserList()}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":\"添加用户\",\"visible\":_vm.isAddUserDialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.isAddUserDialogVisible=$event},\"close\":function($event){return _vm.resetAddUserForm()}}},[_c('el-form',{ref:\"addFormRef\",attrs:{\"model\":_vm.addUserForm,\"rules\":_vm.addUserFormRules,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.addUserForm.username),callback:function ($$v) {_vm.$set(_vm.addUserForm, \"username\", $$v)},expression:\"addUserForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.addUserForm.password),callback:function ($$v) {_vm.$set(_vm.addUserForm, \"password\", $$v)},expression:\"addUserForm.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.addUserForm.email),callback:function ($$v) {_vm.$set(_vm.addUserForm, \"email\", $$v)},expression:\"addUserForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机\",\"prop\":\"mobile\"}},[_c('el-input',{model:{value:(_vm.addUserForm.mobile),callback:function ($$v) {_vm.$set(_vm.addUserForm, \"mobile\", $$v)},expression:\"addUserForm.mobile\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.isAddUserDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.addUser()}}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog\r\n    title=\"添加用户\"\r\n    :visible.sync=\"isAddUserDialogVisible\"\r\n    width=\"30%\"\r\n    @close=\"resetAddUserForm()\"\r\n  >\r\n    <!-- 添加用户对话框内容主体 -->\r\n    <el-form :model=\"addUserForm\" :rules=\"addUserFormRules\" ref=\"addFormRef\" label-width=\"70px\">\r\n      <el-form-item label=\"用户名\" prop=\"username\">\r\n        <el-input v-model=\"addUserForm.username\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"密码\" prop=\"password\">\r\n        <el-input v-model=\"addUserForm.password\" type=\"password\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"邮箱\" prop=\"email\">\r\n        <el-input v-model=\"addUserForm.email\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"手机\" prop=\"mobile\">\r\n        <el-input v-model=\"addUserForm.mobile\"></el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n    <!-- 添加用户对话框底部 -->\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"isAddUserDialogVisible = false\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"addUser()\">确 定</el-button>\r\n    </span>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\n// 表单验证规则\r\nimport formRegRules from \"../../../assets/regRule/rule\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 控制是否显示添加用户对话框\r\n      isAddUserDialogVisible: false,\r\n      // 添加用户表单信息\r\n      addUserForm: { username: \"\", password: \"\", email: \"\", mobile: \"\" },\r\n    };\r\n  },\r\n  props: { propisAddUserDialogVisible: Boolean },\r\n  beforeCreate() {\r\n    // 添加用户表单信息时的验证规则\r\n    this.addUserFormRules = {\r\n      username: formRegRules.username,\r\n      password: formRegRules.password,\r\n      email: formRegRules.email,\r\n      mobile: formRegRules.mobile,\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    // 当对话框关闭的时候,清空userform内的全部内容\r\n    resetAddUserForm() {\r\n      this.$refs.addFormRef.resetFields();\r\n    },\r\n    // 通过点击按钮增加用户\r\n    addUser() {\r\n      this.$refs.addFormRef.validate((valid) => {\r\n        if (!valid) {\r\n          return;\r\n        }\r\n        this.$axios.post(\"users\", this.addUserForm).then((res) => {\r\n          res = res.data;\r\n          if (res.meta.status !== 201) {\r\n            if (res.meta.status === 400) {\r\n              return this.$message.error(\"用户名已存在\");\r\n            } else return this.$message.error(\"添加用户失败\");\r\n          }\r\n\r\n          this.$message.success(\"添加用户成功\");\r\n          this.isAddUserDialogVisible = false;\r\n          this.$emit(\"getUserList\");\r\n        });\r\n      });\r\n    },\r\n  },\r\n  watch: {\r\n    isAddUserDialogVisible(newValue) {\r\n      this.$emit(\"update:propisAddUserDialogVisible\", newValue);\r\n    },\r\n    //父组件传进来的值\r\n    propisAddUserDialogVisible(newValue) {\r\n      this.isAddUserDialogVisible = newValue;\r\n    },\r\n  },\r\n};\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addUserDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addUserDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addUserDialog.vue?vue&type=template&id=89db9072&\"\nimport script from \"./addUserDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./addUserDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":\"修改用户\",\"visible\":_vm.isEditUserDialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.isEditUserDialogVisible=$event}}},[_c('el-form',{ref:\"editUserInfoForm\",attrs:{\"model\":_vm.editUserForm,\"rules\":_vm.editUserFormRules,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\"}},[_c('el-input',{attrs:{\"disabled\":true},model:{value:(_vm.editUserForm.username),callback:function ($$v) {_vm.$set(_vm.editUserForm, \"username\", $$v)},expression:\"editUserForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.editUserForm.email),callback:function ($$v) {_vm.$set(_vm.editUserForm, \"email\", $$v)},expression:\"editUserForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机\",\"prop\":\"mobile\"}},[_c('el-input',{model:{value:(_vm.editUserForm.mobile),callback:function ($$v) {_vm.$set(_vm.editUserForm, \"mobile\", $$v)},expression:\"editUserForm.mobile\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.isEditUserDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.editUserInfo()}}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog title=\"修改用户\" :visible.sync=\"isEditUserDialogVisible\" width=\"30%\">\r\n    <!-- 修改用户对话框内容主体 -->\r\n    <el-form\r\n      :model=\"editUserForm\"\r\n      :rules=\"editUserFormRules\"\r\n      ref=\"editUserInfoForm\"\r\n      label-width=\"70px\"\r\n    >\r\n      <el-form-item label=\"用户名\">\r\n        <el-input v-model=\"editUserForm.username\" :disabled=\"true\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"邮箱\" prop=\"email\">\r\n        <el-input v-model=\"editUserForm.email\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"手机\" prop=\"mobile\">\r\n        <el-input v-model=\"editUserForm.mobile\"></el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n    <!-- 修改用户对话框底部 -->\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"isEditUserDialogVisible = false\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"editUserInfo()\">确 定</el-button>\r\n    </span>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport formRegRules from \"../../../assets/regRule/rule\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      //控制是否显示修改用户信息对话框\r\n      isEditUserDialogVisible: false,\r\n      // 修改用户表单信息\r\n      editUserForm: {\r\n        id: \"\",\r\n        email: \"\",\r\n        mobile: \"\",\r\n      },\r\n    };\r\n  },\r\n  props: { propisEditUserDialogVisible: Boolean,userId:Number},\r\n  beforeCreate() {\r\n    this.editUserFormRules = {\r\n      email: formRegRules.email,\r\n      mobile: formRegRules.mobile,\r\n    };\r\n  },\r\n\r\n\r\n\r\n  methods: {\r\n    //修改单个用户信息\r\n    editUserInfo() {\r\n      this.$refs.editUserInfoForm.validate((valid) => {\r\n        if (!valid) {\r\n          return;\r\n        }\r\n        this.$axios\r\n          .put(\"users/\" + this.editUserForm.id, this.editUserForm)\r\n          .then((res) => {\r\n            res = res.data;\r\n            if (res.meta.status !== 200) {\r\n              return this.$message.error(\"修改用户失败\");\r\n            }\r\n            this.$message.success(\"修改用户成功\");\r\n            this.isEditUserDialogVisible = false;\r\n            this.$emit(\"getUserList\");\r\n          });\r\n      });\r\n    },\r\n    async getEditUserInfo(userId) {\r\n      const { data: res } = await this.$axios.get(\"users/\" + userId);\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error(\"查询用户信息失败\");\r\n      }\r\n      this.editUserForm = res.data;\r\n      this.isEditUserDialogVisible = true;\r\n    },\r\n  },\r\n  watch: {\r\n    isEditUserDialogVisible(newValue) {\r\n      this.$emit(\"update:propisEditUserDialogVisible\", newValue);\r\n    },\r\n    propisEditUserDialogVisible(newValue) {\r\n      this.isEditUserDialogVisible = newValue;\r\n    },\r\n    // 监控父传值用以请求获取当前待修改用户的信息\r\n    userId(newValue){\r\n       this.getEditUserInfo(newValue);\r\n    }\r\n  },\r\n};\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editUserInfoDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editUserInfoDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./editUserInfoDialog.vue?vue&type=template&id=c0e10fb0&\"\nimport script from \"./editUserInfoDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./editUserInfoDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":\"分配角色\",\"visible\":_vm.isAssignRoleDialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.isAssignRoleDialogVisible=$event}}},[_c('div',[_c('p',[_vm._v(\"当前的角色:\"+_vm._s(_vm.userInfo.username))]),_c('p',[_vm._v(\"当前的用户:\"+_vm._s(_vm.userInfo.role_name))]),_c('p',[_vm._v(\"分配新角色: \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.selectRoleId),callback:function ($$v) {_vm.selectRoleId=$$v},expression:\"selectRoleId\"}},_vm._l((_vm.rolesList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.roleName,\"value\":item.id}})}),1)],1)]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.isAssignRoleDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.editUserRole()}}},[_vm._v(\"确 定\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog title=\"分配角色\" :visible.sync=\"isAssignRoleDialogVisible\" width=\"30%\">\r\n    <!-- 分配角色对话框内容主体 -->\r\n    <div>\r\n      <p>当前的角色:{{userInfo.username}}</p>\r\n      <p>当前的用户:{{userInfo.role_name}}</p>\r\n      <p>分配新角色:\r\n        <el-select v-model=\"selectRoleId\"  placeholder=\"请选择\">\r\n          <el-option v-for=\"item in rolesList\" :key=\"item.id\" :label=\"item.roleName\" :value=\"item.id\"></el-option>\r\n        </el-select>\r\n      </p>\r\n    </div>\r\n    \r\n    <!-- 分配角色对话框底部 -->\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"isAssignRoleDialogVisible = false\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"editUserRole()\">确 定</el-button>\r\n    </span>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      //控制是否显示分配角色信息对话框\r\n      isAssignRoleDialogVisible: false,\r\n      //角色列表\r\n      rolesList:'',\r\n      //选择的角色id\r\n      selectRoleId:undefined    \r\n    };\r\n  },\r\n\r\n  props: { propisAssignRoleDialogVisible: Boolean, \r\n            //角色信息\r\n            userInfo:{type:Object,default:()=>({})  }\r\n            },\r\n  methods: {\r\n    //修改单个用户为何角色\r\n    async editUserRole() {\r\n      const { data: res } = await this.$axios.put(\"users/\" + this.userInfo.id +'/role',{rid:this.selectRoleId});\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error(\"分配角色失败\");\r\n      }\r\n      this.$message.success(\"分配角色成功\");\r\n      this.isAssignRoleDialogVisible = false;\r\n      this.$emit(\"getUserList\");\r\n    },\r\n    // 获取角色列表\r\n      async getRoleList(){\r\n        const {data:res} = await this.$axios.get('roles');\r\n        if(res.meta.status!==200) {return this.$message.error(\"获取角色列表失败\")}\r\n        this.rolesList=res.data;\r\n    \r\n      }\r\n  },\r\n    \r\n    created(){\r\n    this.getRoleList();\r\n  },\r\n  watch: {\r\n    isAssignRoleDialogVisible(newValue) {\r\n      this.$emit(\"update:propisAssignRoleDialogVisible\", newValue);\r\n    },\r\n    propisAssignRoleDialogVisible(newValue) {\r\n      this.isAssignRoleDialogVisible = newValue;\r\n    },\r\n  },\r\n};\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./assignRoleDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./assignRoleDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./assignRoleDialog.vue?vue&type=template&id=8176d9b2&\"\nimport script from \"./assignRoleDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./assignRoleDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"," <template>\r\n  <!-- 面包屑导航区域 -->\r\n  <div>\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>用户管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>用户列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!-- 卡片视图 -->\r\n    <el-card shadow=\"never\">\r\n      <!-- 搜索与添加区 -->\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"7\">\r\n          <el-input v-model=\"queryInfo.query\" placeholder=\"请输入内容\" clearable>\r\n            <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"getUserList()\"></el-button>\r\n          </el-input>\r\n        </el-col>\r\n        <el-col :span=\"4\">\r\n          <el-button type=\"primary\" @click=\"isAddUserDialogVisible=true\">添加用户</el-button>\r\n        </el-col>\r\n      </el-row>\r\n      <!-- 用户列表区 -->\r\n      <el-table :data=\"userInfo.userlist\" border stripe>\r\n        <el-table-column type=\"index\" label=\"#\"></el-table-column>\r\n        <el-table-column label=\"姓名\" prop=\"username\"></el-table-column>\r\n        <el-table-column label=\"邮箱\" prop=\"email\"></el-table-column>\r\n        <el-table-column label=\"电话\" prop=\"mobile\"></el-table-column>\r\n        <el-table-column label=\"角色\" prop=\"role_name\"></el-table-column>\r\n        <el-table-column label=\"状态\">\r\n          <template v-slot=\"scope\">\r\n            <el-switch\r\n              @change=\"userStateChanged(scope.row)\"\r\n              v-model=\"scope.row.mg_state\"\r\n              active-color=\"rgb(31,147,255)\"\r\n            ></el-switch>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\">\r\n          <template v-slot=\"scope\">\r\n            <!-- 修改按钮 -->\r\n            <el-tooltip effect=\"dark\" content=\"修改用户角色\" placement=\"bottom\" :enterable=\"false\">\r\n              <el-button\r\n                size=\"small\"\r\n                type=\"primary\"\r\n                icon=\"el-icon-edit\"\r\n                @click=\"showEditUserInfoDialog(scope.row.id)\"\r\n              ></el-button>\r\n            </el-tooltip>\r\n            <!-- 删除按钮 -->\r\n            <el-tooltip effect=\"dark\" content=\"删除用户角色\" placement=\"bottom\" :enterable=\"false\">\r\n              <el-button\r\n                size=\"small\"\r\n                type=\"danger\"\r\n                icon=\"el-icon-delete\"\r\n                @click=\"removeUserById(scope.row.id)\"\r\n              ></el-button>\r\n            </el-tooltip>\r\n            <!-- 分配角色按钮 -->\r\n            <el-tooltip effect=\"dark\" content=\"分配用户角色\" placement=\"bottom\" :enterable=\"false\">\r\n              <el-button size=\"small\" type=\"warning\" icon=\"el-icon-setting\" @click=\"showAssignRoleDialog(scope.row)\"></el-button>\r\n            </el-tooltip>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- 用户信息分页区域 -->\r\n      <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"queryInfo.pagenum\"\r\n        :page-sizes=\"[1, 5, 10, 20]\"\r\n        :page-size=\"queryInfo.pagesize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"userInfo.total\"\r\n      ></el-pagination>\r\n    </el-card>\r\n    <!-- 添加用户对话框 -->\r\n    <addUserDialog\r\n      :propisAddUserDialogVisible.sync=\"isAddUserDialogVisible\"\r\n      @getUserList=\"getUserList()\"\r\n    ></addUserDialog>\r\n\r\n    <!-- 修改用户对话框 -->\r\n    <editUserInfoDialog\r\n      :propisEditUserDialogVisible.sync=\"isEditUserDialogVisible\"\r\n      @getUserList=\"getUserList()\"\r\n      :userId=\"editUserId\"\r\n    ></editUserInfoDialog>\r\n    <!-- 分配用户角色对话框 -->\r\n    <assignRoleDialog :propisAssignRoleDialogVisible.sync=\"isAssignRoleDialogVisible\" @getUserList=\"getUserList()\" :userInfo=\"assignRoleInfo\"></assignRoleDialog>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\n// 抽离后的增添用户对话框子组件\r\nimport addUserDialog from \"./dialog/addUserDialog\";\r\n// 抽离后的修改用户对话框子组件\r\nimport editUserInfoDialog from \"./dialog/editUserInfoDialog\";\r\n// 抽离后的分配用户角色对话框子组件\r\nimport assignRoleDialog from \"./dialog/assignRoleDialog\";\r\nexport default {\r\n  components: {\r\n    addUserDialog,\r\n    editUserInfoDialog,\r\n    assignRoleDialog\r\n    \r\n  },\r\n  data() {\r\n    return {\r\n      // 获取用户列表的参数对象\r\n      queryInfo: { query: \"\", pagenum: 1, pagesize: 5 }, //pagenum 当前页码 pagesize 每页显示多少个数据\r\n      // 用于渲染的用户信息\r\n      userInfo: { userlist: [], total: 0 },\r\n      // 控制是否显示添加用户对话框\r\n      isAddUserDialogVisible: false,\r\n      //控制是否显示修改用户信息对话框\r\n      isEditUserDialogVisible: false,\r\n      //控制是否显示分配角色信息对话框\r\n      isAssignRoleDialogVisible: false,\r\n      // 用户id,传递进修改用户信息子组件内使用\r\n      editUserId:undefined,\r\n      // 用户id,传递进修改用户角色子组件内使用\r\n      assignRoleInfo:undefined\r\n    };\r\n  },\r\n  created() {\r\n    // 刷新用戶列表\r\n    this.getUserList();\r\n  },\r\n  methods: {\r\n    async getUserList() {\r\n      const { data: res } = await this.$axios.get(\"users\", {\r\n        params: this.queryInfo,\r\n      });\r\n      this.userInfo.userlist = res.data.users;\r\n      this.userInfo.total = res.data.total;\r\n      \r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error(res.meta.msg);\r\n      }\r\n    },\r\n    // 分页器监听函数且刷新当前显示用户信息\r\n    handleSizeChange(newSize) {\r\n      this.queryInfo.pagesize = newSize;\r\n      this.getUserList();\r\n    },\r\n    // 监听页码值改变且刷新当前显示用户信息\r\n    handleCurrentChange(newPage) {\r\n      this.queryInfo.pagenum = newPage;\r\n      this.getUserList();\r\n    },\r\n    //监听switch变化且更新用户状态(连接数据库)\r\n    async userStateChanged(userinfo) {\r\n      const { data: res } = await this.$axios.put(\r\n        `users/${userinfo.id}/state/${userinfo.mg_state}`\r\n      );\r\n      if (res.meta.status !== 200) {\r\n        ueserinfo.mg_state = !ueserinfo.mg_state;\r\n        return this.$message.error(res.meta.msg);\r\n      }\r\n\r\n      this.$message.success(\"更新用户状态成功\");\r\n    },\r\n\r\n    // 获取待修改用户id传进子组件中然后显示编辑用户信息对话框\r\n    showEditUserInfoDialog(userId) {\r\n      this.editUserId=userId;\r\n      this.isEditUserDialogVisible = true;\r\n    },\r\n    //根据用户id删除用户\r\n    removeUserById(userId) {\r\n      this.$confirm(\"此操作将永久删除该用户, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      })\r\n        .then(async () => {\r\n          // 进行删除\r\n          const { data: res } = await this.$axios.delete(\"users/\" + userId);\r\n          if (res.meta.status === 200) {\r\n            this.$message.success(\"删除成功\");\r\n            //刷新用户列表\r\n            this.getUserList();\r\n          } else {\r\n            this.$message.warning(\"删除失败!\");\r\n          }\r\n        })\r\n        .catch(() => {\r\n          this.$message.info(\"已取消删除\");\r\n        });\r\n    },\r\n    // 获取待修改用户id传进子组件然后显示分配用户角色信息对话框    \r\n      showAssignRoleDialog(userInfo) {\r\n      this.assignRoleInfo=userInfo;\r\n      this.isAssignRoleDialogVisible = true;\r\n    },\r\n  },\r\n  watch: {},\r\n};\r\n</script>\r\n<style>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./users.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./users.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./users.vue?vue&type=template&id=78bf9599&\"\nimport script from \"./users.vue?vue&type=script&lang=js&\"\nexport * from \"./users.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// 校验邮箱方法\r\nvar checkEmail = (rule,value,callback) =>{\r\nconst regEmail=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+\\.([a-zA-Z0-9_-])+$/;\r\nif(regEmail.test(value)){\r\n    return callback();\r\n}\r\ncallback(new Error('邮箱格式有误'))\r\n}\r\n// 校验手机方法\r\nvar checkMobile = (rule,value,callback) =>{\r\n    const regMobile=/^(1[3|5-9]\\d{9})$/;\r\nif(regMobile.test(value)){\r\n    return callback();\r\n}\r\ncallback(new Error('手机格式有误'))\r\n}\r\n\r\n\r\n\r\nexport default {\r\n    // 用户名\r\n    username:[{required:true,message:\"请输入用户名\",trigger:'blur'},\r\n    {min:3,max:10,message:'请输入长度为3~10位以内的用户名',trigger:'blur'}],\r\n    // 密码\r\n    password:[{required:true,message:\"请输入密码\",trigger:'blur'},\r\n    {min:6,max:15,message:'请输入长度为6~15位以内的密码',trigger:'blur'}],\r\n    // 邮箱\r\n    email:[{required:true,message:\"请输入邮箱\",trigger:'blur'},\r\n    {validator:checkEmail,trigger:'blur'}],\r\n    // 手机\r\n    mobile:[{required:true,message:\"请输入手机号码\",trigger:'blur'},\r\n    {validator:checkMobile,trigger:'blur'}],\r\n    // 商品名称\r\n    goods_name:[{required:true,message:\"请输入商品名称\",trigger:'blur'}],\r\n    // 商品价格\r\n    goods_price:[{required:true,message:\"请输入商品价格\",trigger:'blur'}],\r\n    // 商品数目\r\n    goods_number:[{required:true,message:\"请输入商品数目\",trigger:'blur'}],\r\n    // 商品重量\r\n    goods_weight:[{required:true,message:\"请输入商品重量\",trigger:'blur'}],\r\n    // 商品分类\r\n    goods_cat:[{required:true,message:\"请选择商品分类\",trigger:'blur'}],\r\n    // 省市区县\r\n    address_province:[{required:true,message:\"请选择省市区县\",trigger:'blur'}],\r\n    // 详细地址\r\n    address_detail:[{required:true,message:\"请输入详细地址\",trigger:'blur'}],\r\n\r\n\r\n}\r\n"],"sourceRoot":""}